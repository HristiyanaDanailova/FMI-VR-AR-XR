<!DOCTYPE html>

<html>

<head>
    <title>13.Airplane Park</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <script src="three.min.js"></script>
    <script src="AnaglyphEffect.js"></script>
    <script src="vax.js"></script>
</head>

<body>
    <script>

        //vaxInit();
        vaxInitAnaglyph();
        camera.focus = 4;
        camera.position.set(-50, 60, 600);
        light.position.set(0, 100, 0);
        scene.background = new THREE.Color('#dce7f5');

        //grass
        let grassGeometry = new THREE.BoxGeometry(400, 5, 300);
        let grassMaterial = new THREE.MeshLambertMaterial({ color: '#6aad74' });
        let grass = new THREE.Mesh(grassGeometry, grassMaterial);
        grass.position.set(0, -60, -90);
        scene.add(grass);

        //alleys
        let alleyGeometry = new THREE.BoxGeometry(30, 9, 300);
        let alleyMaterial = new THREE.MeshLambertMaterial({ color: '#7d6d5b' });
        let alley = new THREE.Mesh(alleyGeometry, alleyMaterial);
        alley.position.set(30, -59.7, -90);
        scene.add(alley);

        let alley2Geometry = new THREE.BoxGeometry(30, 9, 100);
        let alley2 = new THREE.Mesh(alley2Geometry, alleyMaterial);
        alley2.position.set(-30, -59.7, -30);
        alley2.rotation.set(0, 1.6, 0);
        scene.add(alley2);

        let alley3 = alley2.clone();
        alley3.position.set(-65.5, -59.7, -70);
        alley3.rotation.set(0, 3.15, 0);
        scene.add(alley3);

        let alley4 = alley2.clone();
        alley4.position.set(-101, -59.7, -110);
        alley4.rotation.set(0, 1.6, 0);
        scene.add(alley4);

        //building
        let buildingGeometry = new THREE.BoxGeometry(70, 80, 100);
        let buildingMaterial = new THREE.MeshLambertMaterial({ color: '#e8df9b' });
        let building = new THREE.Mesh(buildingGeometry, buildingMaterial);
        building.position.set(100, -30, -90);
        scene.add(building);

        //windows
        let windowGeometry = new THREE.BoxGeometry(5, 12, 15);
        let windowMaterial = new THREE.MeshLambertMaterial({ color: '#6dafc9' });
        let windows = new THREE.Mesh(windowGeometry, windowMaterial);
        windows.position.set(65, -15, -55);
        scene.add(windows);

        let window2 = windows.clone();
        window2.position.set(65, -15, -90);
        scene.add(window2);

        let window3 = windows.clone();
        window3.position.set(65, -15, -125);
        scene.add(window3);

        //doors
        let doorGeometry = new THREE.BoxGeometry(5, 25, 15);
        let doorMaterial = new THREE.MeshLambertMaterial({ color: '#603f63' });
        let door = new THREE.Mesh(doorGeometry, doorMaterial);
        door.position.set(65, -43, -98);
        scene.add(door);

        let door2 = door.clone();
        door2.position.set(65, -43, -82);
        scene.add(door2);

        //airplane
        let airplaneGeometry = new THREE.CapsuleGeometry(7, 36, 1, 45);
        let airplaneMaterial = new THREE.MeshLambertMaterial({ color: '#919994' });
        let airplane = new THREE.Mesh(airplaneGeometry, airplaneMaterial);
        scene.add(airplane);

        //wings of airplane
        let wingGeometry = new THREE.CylinderGeometry(40, 40, 3, 42, 42, false, 0, 0.33);
        let wingMaterial = new THREE.MeshLambertMaterial({ color: '#0e2414' })
        let wing = new THREE.Mesh(wingGeometry, wingMaterial);
        wing.rotation.set(0, 0, 1.6);
        wing.position.set(0, 0, -40);
        airplane.add(wing);

        let wing2 = wing.clone();
        wing2.rotation.set(3.4, 0, 1.6);
        wing2.position.set(0, 2.3, 40);
        airplane.add(wing2);

        //tails of airplane
        let tailGeometry = new THREE.ConeGeometry(5.4, 30);
        let tailMaterial = new THREE.MeshLambertMaterial({ color: '#84a15a' });
        let tail = new THREE.Mesh(tailGeometry, tailMaterial);
        tail.position.set(0, -30, -0.8);
        tail.rotation.set(0, 0, 3.2);
        airplane.add(tail);

        //details of the tail 
        let tailDetailGeometry = new THREE.CylinderGeometry(20, 20, 3, 42, 42, false, 0, 0.33);
        let tailDetailMaterial = new THREE.MeshLambertMaterial({ color: '#081402' });
        let tailDetail = new THREE.Mesh(tailDetailGeometry, tailDetailMaterial);
        tailDetail.rotation.set(0, 1.1, 1.7);
        tailDetail.position.set(-18, -38, -10);
        airplane.add(tailDetail);

        tailDetail2 = tailDetail.clone();
        tailDetail2.rotation.set(0, 2.2, 1.6);
        tailDetail2.position.set(-16, -38, 10);
        airplane.add(tailDetail2);

        //wheel holders
        let wheelDetailsGemetry = new THREE.CylinderGeometry(1.5, 1.5, 15);
        let wheelDetailMaterial = new THREE.MeshLambertMaterial({ color: 'black' });
        let wheelDetails = new THREE.Mesh(wheelDetailsGemetry, wheelDetailMaterial);
        wheelDetails.position.set(4, 12, -3);
        wheelDetails.rotation.set(0, 0, 1.6);
        airplane.add(wheelDetails);

        let wheelDetail2 = wheelDetails.clone();
        wheelDetail2.position.set(4, 12, 3);
        airplane.add(wheelDetail2);

        //wheels
        let wheelGeometry = new THREE.CylinderGeometry(2.5, 2.5, 2);
        let wheel = new THREE.Mesh(wheelGeometry, wheelDetailMaterial);
        wheel.position.set(12.3, 12.3, 3);
        airplane.add(wheel);

        let wheel2 = wheel.clone();
        wheel2.position.set(12.3, 12.3, -3);
        airplane.add(wheel2);

        //setting the positions of the airplanes
        airplane.position.set(-33, -43, 20);
        airplane.rotation.set(0.2, 2, 4.75);

        let airplane2 = airplane.clone();
        airplane2.position.set(-140, -39, -40);
        airplane2.rotation.set(0.2, 0.8, 4.75);
        airplane2.scale.set(1.5, 1.7, 1.5);
        scene.add(airplane2);

        airplane3 = airplane.clone();
        airplane3.position.set(-20, -43, -80);
        airplane3.rotation.set(0, 4.6, 5.13);
        airplane3.scale.set(1.3, 0.5, 1.3);
        scene.add(airplane3);

        let airplane4 = airplane.clone();
        airplane4.position.set(-130, -48, -160);
        airplane4.rotation.set(0, 5.3, 4.78);
        airplane4.scale.set(0.7, 2, 0.7);
        scene.add(airplane4);

        let airplane5 = airplane.clone();
        airplane5.position.set(-30, -40, -175);
        airplane5.rotation.set(0, 4.35, 4.8);
        airplane5.scale.set(1.3, 1.3, 1.3)
        scene.add(airplane5);

        let airplane6 = airplane.clone();
        airplane6.position.set(90, -37, 0);
        airplane6.rotation.set(0, 2.8, 4.9);
        airplane6.scale.set(0.8, 0.8, 0.8);
        scene.add(airplane6);

        let airplane7 = airplane.clone();
        airplane7.position.set(90, -37, -180);
        airplane7.rotation.set(0, 3.7, 4.9);
        airplane7.scale.set(0.8, 0.8, 0.8);
        scene.add(airplane7);

        //tree base
        let treeGeometry = new THREE.CylinderGeometry(4.5, 6, 50);
        let treeMaterial = new THREE.MeshLambertMaterial({ color: '#614539' });
        let tree = new THREE.Mesh(treeGeometry, treeMaterial);
        scene.add(tree);

        //tree crown
        let treeCrownGeometry = new THREE.TetrahedronGeometry(25, 3);
        let treeCrownMaterial = new THREE.MeshLambertMaterial({ color: '#395925' });
        let treeCrown = new THREE.Mesh(treeCrownGeometry, treeCrownMaterial);
        treeCrown.position.set(0, 30, 0);
        tree.add(treeCrown);

        //setting the postition of the trees
        tree.position.set(-150, -30, 30);

        tree2 = tree.clone();
        tree2.scale.set(0.5, 1.3, 0.5);
        tree2.position.set(-100, -30, 30)
        scene.add(tree2);

        let tree3 = tree.clone();
        tree.position.set(-190, -38, -110);
        scene.add(tree3);

        let tree4 = tree.clone();
        tree4.position.set(-90, -38, -170);
        scene.add(tree4);

        let tree5 = tree.clone();
        tree5.position.set(-120, -38, -200);
        tree5.scale.set(0.8, 1.3, 0.8);
        scene.add(tree5);

        let tree6 = tree.clone();
        tree6.position.set(-50, -15, -220);
        tree6.scale.set(1.2, 1.8, 1.2)
        scene.add(tree6);

        let tree7 = tree.clone();
        tree7.position.set(-180, -20, -200);
        tree7.scale.set(0.7, 1.5, 0.7);
        scene.add(tree7);

        let tree8 = tree.clone();
        tree8.position.set(150, -30, -200);
        tree8.scale.set(1.2, 1.7, 1.2);
        scene.add(tree8);

        let tree9 = tree.clone();
        tree9.position.set(150, -40, -160);
        scene.add(tree9);

        let tree10 = tree.clone();
        tree10.position.set(140, -30, 30);
        tree10.scale.set(0.9, 1.5, 0.8);
        scene.add(tree10);

        //setting the position of the bushes
        let bush = treeCrown.clone();
        bush.position.set(-100, -50, 10);
        bush.scale.set(0.6, 0.6, 0.6);
        bush.material = bush.material.clone();
        bush.material.color.setRGB(19 / 255, 38 / 255, 21 / 255);
        scene.add(bush);

        let bush2 = bush.clone();
        bush2.position.set(-120, -40, 20);
        bush2.scale.set(0.7, 1.2, 0.7);
        bush2.material = bush.material.clone();
        bush2.material.color.setRGB(64 / 255, 108 / 255, 69 / 255);
        scene.add(bush2);

        let bush3 = bush.clone();
        bush3.position.set(0, -50, -10);
        bush3.scale.set(0.5, 0.4, 0.5);
        bush3.material = bush.material.clone();
        bush3.material.color.setRGB(15 / 255, 108 / 255, 14 / 255);
        scene.add(bush3);

        let bush4 = bush.clone();
        bush4.position.set(-180, -50, -140);
        bush4.material = bush.material.clone();
        bush4.material.color.setRGB(42 / 255, 117 / 255, 41 / 255);
        scene.add(bush4);

        let bush5 = bush.clone();
        bush5.position.set(140, -46, 40);
        bush5.material = bush.material.clone();
        bush5.material.color.setRGB(91 / 255, 148 / 255, 90 / 255);
        scene.add(bush5);

        let bush6 = bush.clone();
        bush6.position.set(160, -25, -20);
        bush6.scale.set(1.2, 1.6, 1.2);
        bush6.material = bush.material.clone();
        bush6.material.color.setRGB(62 / 255, 107 / 255, 52 / 255);
        scene.add(bush6);

        //plaforms for the planes nest to the building
        let platformGeometry = new THREE.BoxGeometry(60, 10, 60);
        let platform = new THREE.Mesh(platformGeometry, buildingMaterial);
        platform.position.set(100, -54, 0)
        scene.add(platform);

        let platform2 = platform.clone();
        platform2.position.set(100, -54, -180);
        scene.add(platform2);

        //fence
        let fenceGeometry = new THREE.BoxGeometry(400, 10, 3);
        let fenceMaterial = new THREE.MeshLambertMaterial({ color: '#deb385' });
        let fence = new THREE.Mesh(fenceGeometry, fenceMaterial);
        fence.position.set(0, -55, -240);
        scene.add(fence);

        let fence1 = fence.clone();
        fence1.position.set(-92, -55, 60);
        fence1.scale.set(0.54, 1, 1);
        scene.add(fence1);

        let fence2 = fence.clone();
        fence2.position.set(124, -55, 60);
        fence2.scale.set(0.37, 1, 1);
        scene.add(fence2);

        let fenceGeometrySides = new THREE.BoxGeometry(3, 10, 300);
        let fenceSide = new THREE.Mesh(fenceGeometrySides, fenceMaterial);
        fenceSide.position.set(-200, -55, -90);
        scene.add(fenceSide);

        fenceSide2 = fenceSide.clone();
        fenceSide2.position.set(199, -55, -90);
        scene.add(fenceSide2);

        function animate(t) {
            scene.rotation.set(0, t / 3, 0);
            airplane7.position.set(90, 30 * Math.sin(t * 2 - 30), -180);
            airplane6.position.set(90, 30 * Math.sin(t * 2 - 30), 0);


        }
    </script>
</body>

</html>